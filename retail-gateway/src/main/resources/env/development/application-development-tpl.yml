#网关配置模板,实际使用时可以将此配置文件放入consul中进行管理

#请求和响应GZIP压缩支持
feign:
  httpclient:
    connection-timeout: 10000
  okhttp:
    enabled: true
  compression:
    request:
      enabled: true
      mime-types: text/xml,application/xml,application/json
      min-request-size: 2048
    response:
      enabled: true

# 断路器設置
hystrix:
  threadpool:
    default:
      coreSize: 100
      maxQueueSize: 1000
      queueSizeRejectionThreshold: 500
  command:
    default:
      execution:
        isolation:
          thread:
            timeoutInMilliseconds: 10000


spring:
  cloud:
    gateway:
      discovery:
        locator:
          lowerCaseServiceId: true
          enabled: true
      default-filters: []
      routes:
        - id: process-service
          uri: lb://process-service
          predicates:
            - Path=/retail/process/**
          filters:
            - StripPrefix=2
        - id: biz-service
          uri: lb://biz-service
          predicates:
            - Path=/retail/retail-biz/**
          filters:
            - StripPrefix=1
        - id: oauth-service
            uri: lb://oauth-service
            predicates:
              - Path=/retail/retail-oauth/**
            filters:
              - StripPrefix=1
    loadbalancer:
      retry:
        enabled: false

jwt-config:
    public-key: 305c300d06092a864886f70d0101010500034b0030480241008667b4c9df4d132f5fb0108e3890d3d4f3dc637c98edc92ab1d41f11a7ac467385ad5c247e1fc447288db84b4cbb4682edfe3c448fb004ce2a7e1cf8e224941d0203010001